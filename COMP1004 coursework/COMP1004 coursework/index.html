<!DOCTYPE html>
<!-- All websites used for inspiration are at the bottom-->
<html>
  <head>
    <title>Page Title</title>
    <link rel="stylesheet" href="CSS/styles.css"
  </head>
  <body>
    <div>
      <!-- Chose to position code centrally, so used the <center> tag for everything.
      Additionally, the code contains a main title and a subtitle within it -->
      <center>
        <h1>Climate Change</h1>
        <h2>What is climate change?</h2>
        <!--Title of the piece with a subheading inside of it-->
        <button id="btnDownload1">Download section</button>
        <p id="firstSection">
          Climate change refers to long-term shifts in temperatures and weather
          patterns. Such shifts can be natural, due to changes in the sun’s
          activity or large volcanic eruptions. But since the 1800s, human
          activities have been the main driver of climate change, primarily due
          to the burning of fossil fuels like coal, oil and gas. Burning fossil
          fuels generates greenhouse gas emissions that act like a blanket
          wrapped around the Earth, trapping the sun’s heat and raising
          temperatures. The main greenhouse gases that are causing climate
          change include carbon dioxide and methane. These come from using
          gasoline for driving a car or coal for heating a building, for
          example. Clearing land and cutting down forests can also release
          carbon dioxide. Agriculture, oil and gas operations are major sources
          of methane emissions. Energy, industry, transport, buildings,
          agriculture and land use are among the main sectors causing greenhouse
          gases.
        </p>
        <!-- Information taken from https://www.un.org/en/climatechange/what-is-climate-change.
      Image link with image dimensions defined; another subheading made to mark another section;
    image taken from https://www.freepik.com/free-photo/janschwalde-power-plant-germany_17660362.htm#query=climate%20change&position=3&from_view=keyword&track=ais&uuid=95f24dde-f0fc-4160-80bd-4bb3d4702c6f -->
        <img
          src="images/janschwalde-power-plant-germany_181624-50198.jpg"
          width="400"
          length="400"
        />
        <h2>How imminent is the current situation regarding climate change?</h2>
        <button id="btnDownload2">Download section</button>
        <!-- <p> tag used so text can be generated; image inserted with dimensions. 
   Image taken from https://www.shutterstock.com/search/climate-change-collage-->
        <p id="secondSection">
          Global climate change is not a future problem. Changes to Earth’s
          climate driven by increased human emissions of heat-trapping
          greenhouse gases are already having widespread effects on the
          environment: glaciers and ice sheets are shrinking, river and lake ice
          is breaking up earlier, plant and animal geographic ranges are
          shifting, and plants and trees are blooming sooner. Effects that
          scientists had long predicted would result from global climate change
          are now occurring, such as sea ice loss, accelerated sea level rise,
          and longer, more intense heat waves.
        </p>
        <img
          src="images/climate-change-concept-collage.jpg"
          width="400"
          length="400"
        />
        <!-- Subheading to signify start of section; text 
  generated for that section using <p> ta; button created 
    for downloading the section. -->
        <h2>But can one be sure it is actually a real phenomenen</h2>
        <button id="btnDownload3">Download section</button>
        <p id="thirdSection">
          Scientists demonstrated the heat-trapping nature of carbon dioxide and
          other gases in the mid-19th century.2 Many of the science instruments
          NASA uses to study our climate focus on how these gases affect the
          movement of infrared radiation through the atmosphere. From the
          measured impacts of increases in these gases, there is no question
          that increased greenhouse gas levels warm Earth in response.
        </p>
        <h2>What can one do about climate change?</h2>
        <!--First subsection of the subsection that is "thirdSection"-->
        <h3>Save energy at home</h3>
        <button id="btnDownload4">Download section</button>
        <p id="fourthSection">
          Much of our electricity and heat are powered by coal, oil and gas. Use
          less energy by reducing your heating and cooling use, switching to LED
          light bulbs and energy-efficient electric appliances, washing your
          laundry with cold water, or hanging things to dry instead of using a
          dryer. Improving your home’s energy efficiency, through better
          insulation for instance, or replacing your oil or gas furnace with an
          electric heat pump can reduce your carbon footprint by up to 900
          kilograms of CO2e per year. Get more energy tips for your home here.
        </p>
        <h3>Change your home's source of energy</h3>
        <!--Second subsection and so on.-->
        <button id="btnDownload5">Download section</button>
        <p id="fifthSection">
          Ask your utility company if your home energy comes from oil, coal or
          gas. If possible, see if you can switch to renewable sources such as
          wind or solar. Or install solar panels on your roof to generate energy
          for your home. Switching your home from oil, gas or coal-powered
          energy to renewable sources of energy, such as wind or solar, can
          reduce your carbon footprint by up to 1.5 tons of CO2e per year. Learn
          more about why switching to renewable energy is key to tackling the
          climate crisis.
        </p>
        <h3>Walk, bike or take public transport</h3>
        <!-- Last subsection for the subsection of "thirdSection;"
image with dimensions defined (source of image:https://phys.org/news/2021-08-earth-triggered-rapid-climate-million.html)-->
        <button id="btnDownload6">Download section</button>
        <p id="sixthSection">
          The world’s roadways are clogged with vehicles, most of them burning
          diesel or gasoline. Walking or riding a bike instead of driving will
          reduce greenhouse gas emissions -- and help your health and fitness.
          For longer distances, consider taking a train or bus. And carpool
          whenever possible. Living car-free can reduce your carbon footprint by
          up to 2 tons of CO2 per year compared to a lifestyle using a car.
          Learn more about how to green your travel.
        </p>
        <img src="images/earth-216834_1280.jpg" width="400" length="400" />
        <!-- Text generated to signify function that each button performs; buttons allow for files to be generated
    whereby a function is called if the file status changes to download a .txt or .json file respectively. -->
        <p id="uploadInfo">
          If you have any other information about climate change that you feel
          would be a benefit to people, upload it here
        </p>
        <p><u>JSON to plain text</u></p>
        <input type="file" onchange="previewFile()" id="jsonInput" /><br />
        <p class="content"></p>
        <p><u>Plain text to JSON</u></p>
        <input type="file" id="jsonOutput" onchange="previewFile2()" /><br />
        <p class="textConverter"></p>
        <!-- Text explaining the purpose of the input fields; labels
    for each field are made. -->
        <p>Fun exercise! Feel free to enter any country you'd like!</p>
        <br />
        <!--Button made to allow for the adding of table fields dynamically along with
      id's for possible inputs of country and temperature that might be put in.-->
        <button id="btnAddItem">Click to add country and temperature!</button>
        <table id="Table"></table>
        <p id="jsontext"></p>
        <p id="averageTemp"></p>
      </center>
    </div>

    <script>
      /* Function to download a file with data, name and type that has been specified.
    Of global scope so used throughout the program. */
      function download(fileData, fileName, fileFormat) {
        var fileDownloadLink = document.createElement("a");
        var file = new Blob([fileData], { type: fileFormat });
        fileDownloadLink.href = URL.createObjectURL(file);
        fileDownloadLink.download = fileName;
        fileDownloadLink.click();
      }

      function previewFile() {
        //function to preview and download a file; download functino is called.
        // jsonInput file being read.
        const content = document.querySelector(".content");
        var fileInput = document.getElementById("jsonInput");
        file = fileInput.files[0];
        var reader = new FileReader();
        if (file) {
          reader.readAsText(file);
          reader.addEventListener("load", function () {
            download(reader.result, "json.txt", "text/plain");
          });
        }
      }

      function previewFile2() {
        /*function to preview and download a file; download functino is called.
 jsonOutput file being read.*/
        const textConverter = document.querySelector(".textConverter");
        fileInput = document.getElementById("jsonOutput");
        file = fileInput.files[0];
        reader = new FileReader();
        if (file) {
          reader.readAsText(file);
          reader.addEventListener("load", function () {
            download(reader.result, "file.json", "application/json");
          });
        }
      }

      // "country" and temperature values stored as Javascript objects.
      /*Function declared based on clicking the "btnAddItem" with the purpose of
      table fields being generated subject to doing so*/
      const table = document.getElementById("Table");
      let rowCounter = 1;
      document
        .getElementById("btnAddItem")
        .addEventListener("click", function () {
          rowCounter++;
          const row = document.createElement("tr");
          /* content for a row of two table fields generated, number of rows depends on "numItems"
    which is incremented after each click of "btnAdditem" */
          row.innerHTML = `
  <td>
  <input type="text" id="tableCell${rowCounter}" placeholder="Item" />
  </td>
  <td>
  <input type="text" id="tableValue${rowCounter}" placeholder="Value" />
  </td>`;
          table.appendChild(row);
        });
      /*Function for when "btnDownload1" is clicked; 1st section of text is downloaded.
Text in the first section is converted to a JSON string.*/
      document
        .getElementById("btnDownload1")
        .addEventListener("click", function () {
          var sectionElement = document.getElementById("firstSection");
          var sectionText = sectionElement.innerHTML;
          var sectionData = { html: sectionText };
          var jsonData = JSON.stringify(sectionData);
          download(sectionText, "json.txt", "text/plain");
        });
      /*Function for when "btnDownload2" is clicked; 1st section of text is downloaded.
Text in the first section is converted to a JSON string.*/
      document
        .getElementById("btnDownload2")
        .addEventListener("click", function () {
          sectionElement = document.getElementById("secondSection");
          sectionText = sectionElement.innerHTML;
          sectionData = { html: sectionText };
          jsonData = JSON.stringify(sectionData);
          download(sectionText, "json.txt", "text/plain");
        });

      /*Function for when "btnDownload3" is clicked; 1st section of text is downloaded.
Text in the first section is converted to a JSON string.*/
      document
        .getElementById("btnDownload3")
        .addEventListener("click", function () {
          sectionElement = document.getElementById("thirdSection");
          sectionText = sectionElement.innerHTML;
          sectionData = { html: sectionText };
          jsonData = JSON.stringify(sectionData);
          download(sectionText, "json.txt", "text/plain");
        });

      /*Function for when "btnDownload4" is clicked; 1st section of text is downloaded.
Text in the first section is converted to a JSON string.*/
      document
        .getElementById("btnDownload4")
        .addEventListener("click", function () {
          sectionElement = document.getElementById("fourthSection");
          sectionText = sectionElement.innerHTML;
          sectionData = { html: sectionText };
          jsonData = JSON.stringify(sectionData);
          download(sectionText, "json.txt", "text/plain");
        });

      /*Function for when "btnDownload5" is clicked; 1st section of text is downloaded.
Text in the first section is converted to a JSON string.*/
      document
        .getElementById("btnDownload5")
        .addEventListener("click", function () {
          sectionElement = document.getElementById("fifthSection");
          sectionText = sectionElement.innerHTML;
          sectionData = { html: sectionText };
          jsonData = JSON.stringify(sectionData);
          download(sectionText, "json.txt", "text/plain");
        });

      /*Function for when "btnDownload6" is clicked; 1st section of text is downloaded.
Text in the first section is converted to a JSON string.*/
      document
        .getElementById("btnDownload6")
        .addEventListener("click", function () {
          sectionElement = document.getElementById("sixthSection");
          sectionText = sectionElement.innerHTML;
          sectionData = { html: sectionText };
          jsonData = JSON.stringify(sectionData);
          download(sectionText, "json.txt", "text/plain");
        });

      //used = https://www.educative.io/answers/how-to-save-user-input-to-json-object-in-html
    </script>
    <table id="dynamicTable"></table>
  </body>
</html>
